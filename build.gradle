apply plugin: "application"
apply plugin: "java"
apply plugin: "idea"

repositories {
    mavenCentral()
}

dependencies {
    compile "org.slf4j:slf4j-log4j12:1.7.12"
    compile "org.apache.beam:beam-sdks-java-core:2.9.0"
    compile "org.apache.beam:beam-runners-google-cloud-dataflow-java:2.9.0"
    compile "org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.9.0"
    compile "org.apache.beam:beam-sdks-java-extensions-google-cloud-platform-core:2.9.0"
}

run {
    args = ["--project=sd-3-241301",
            "--runner=DataflowRunner",
            "--streaming=true",
            "--maxNumWorkers=2",
            "--numWorkers=1",
            "--zone=us-east1-b",
            "--stagingLocation=gs://lab2-twitter/jars",
            "--tempLocation=gs://lab2-twitter/tmp"
    ]
}

mainClassName="com.sdistribuidos.TweetPipeline"
